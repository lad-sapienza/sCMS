---
title: 'DataTb Component Demo'
description: 'Examples of the DataTb component with different data sources'
layout: ../layouts/MdxLayout.astro
---



import DataTb from '../../core/components/DataTb/DataTbMdx';
import AdvancedTable from '../components/AdvancedTable';
import Example from '../components/Example.astro';
import TableOfContents from '../../core/components/TableOfContents.astro';



# DataTb Component Demo

<TableOfContents title="DataTb examples on this page" />

The `DataTb` component provides a powerful, flexible way to display tabular data from various sources with built-in sorting, filtering, and pagination.

---

<Example title="Minimal example" codeWidth='full'> 
  <Fragment slot="intro">
    Load data from a CSV file with automatic column detection:
  </Fragment>

  <Fragment slot="code">
    ```jsx
    <DataTb 
      csv="/data/ksa.csv"
      searchable 
      pagination 
      client:load 
    />
    ```
  </Fragment>

  <DataTb 
    csv="/data/ksa.csv"
    searchable 
    pagination 
    client:load 
  />
</Example>
---


<Example title="CSV with Custom Columns" codeWidth='full'> 
  <Fragment slot="intro">
    Same data with customized column display and formatting:
  </Fragment>
  <Fragment slot="code">
    ```jsx
    <DataTb 
      csv="/data/ksa.csv"
      columns={[
        { key: 'Item_Label', header: 'Site ID', sortable: true },
        { key: 'Name', header: 'Name', sortable: true },
        { key: 'Site_Name', header: 'Site Name' },
        { key: 'Survey_Year', header: 'Survey Year', format: 'number' },
        { key: 'Subregion', header: 'Subregion' }
      ]}
      searchable
      pagination={{ pageSize: 5, showPageSize: true }}
      initialSort={{ columnKey: 'Item_Label', direction: 'asc' }}
      client:load
    />
    ```
  </Fragment>

  <DataTb 
  csv="/data/ksa.csv"
  columns={[
    { key: 'Item_Label', header: 'Site ID', sortable: true },
    { key: 'Name', header: 'Name', sortable: true },
    { key: 'Site_Name', header: 'Site Name' },
    { key: 'Survey_Year', header: 'Survey Year', format: 'number' },
    { key: 'Subregion', header: 'Subregion' }
  ]}
  searchable
  pagination={{ pageSize: 5, showPageSize: true }}
  initialSort={{ columnKey: 'Item_Label', direction: 'asc' }}
  client:load
/>
</Example>


---

<Example title="Inline JSON Data" codeWidth='full'> 
  <Fragment slot="intro">
    Display data directly from JSON:
  </Fragment>

  <Fragment slot="code">
    ```jsx
    export const jsonData = [
      { language: 'JavaScript', year: 1995, creator: 'Brendan Eich' },
      { language: 'Python', year: 1991, creator: 'Guido van Rossum' },
      { language: 'Java', year: 1995, creator: 'James Gosling' },
      { language: 'TypeScript', year: 2012, creator: 'Anders Hejlsberg' },
      { language: 'Rust', year: 2010, creator: 'Graydon Hoare' }
    ];

    <DataTb 
      json={jsonData}
      searchable
      pagination={false}
      client:load
    />
    ```
  </Fragment>

export const jsonData = [
  { language: 'JavaScript', year: 1995, creator: 'Brendan Eich' },
  { language: 'Python', year: 1991, creator: 'Guido van Rossum' },
  { language: 'Java', year: 1995, creator: 'James Gosling' },
  { language: 'TypeScript', year: 2012, creator: 'Anders Hejlsberg' },
  { language: 'Rust', year: 2010, creator: 'Graydon Hoare' }
];

  <DataTb 
    json={jsonData}
    searchable
    pagination={false}
    client:load
  />
</Example>

---


<Example title="API with Transformer" codeWidth='full'> 
  <Fragment slot="intro">
    Fetch data from a public API and transform it:
  </Fragment>

  <Fragment slot="code">
    ```jsx
    <DataTb 
      api="https://jsonplaceholder.typicode.com/todos"
      columns={[
        { key: 'title', header: 'Title', sortable: true },
        { key: 'userId', header: 'User ID' },
        { key: 'completed', header: 'Status', labels: { 'true': '✅ Done', 'false': '⏳ Pending' } }
      ]}
      searchable
      pagination={{ pageSize: 10 }}
      client:load
    />
    ```
  </Fragment>

  <DataTb 
    api="https://jsonplaceholder.typicode.com/todos"
    columns={[
      { key: 'title', header: 'Title', sortable: true },
      { key: 'userId', header: 'User ID' },
      { key: 'completed', header: 'Status', labels: { 'true': '✅ Done', 'false': '⏳ Pending' } }
    ]}
    searchable
    pagination={{ pageSize: 10 }}
    client:load
  />
</Example>


<Example title="Directus Integration" codeWidth='full'> 
  <Fragment slot="intro">
    Load data from a Directus collection using the simplified interface.

    _Note: This example requires `PUBLIC_DIRECTUS_URL` and `PUBLIC_DIRECTUS_TOKEN` environment variables in your `.env` file_
  </Fragment>
  <Fragment slot="code">
    ```jsx
    <DataTb 
      directus={{
        table: "scms_ksa",
        queryString: "limit=-1&offset=0",
      }}
      searchable 
      pagination 
      client:load 
    />
    ```
  </Fragment>

  <DataTb 
    directus={{
      table: "scms_ksa",
      queryString: "limit=-1&offset=0",
    }}
    searchable 
    pagination 
    client:load 
  />
</Example>

<Example title="Complex Transformations (The Wrapper Pattern)">
  <Fragment slot="intro">
    **Question:** "Can I use functions for complex transformations?"

    **Answer:** Not directly inside MDX props (due to serialization limits), but **YES** by using a Wrapper Component.

    Create a React component (`AdvancedTable.tsx`) that defines your columns with functions, and import it here.
  </Fragment>

  <Fragment slot="code" codeWidth='full'>
    ```tsx
    // AdvancedTable.tsx
    export default function AdvancedTable() {
      const columns = [
        { 
          key: 'priority', 
          render: (val) => <span className={...}>{val}</span> 
        },
        {
          key: 'action',
          render: (_, row) => <button onClick={() => alert(row.title)}>Click Me</button>
        }
      ];
      return <DataTb columns={columns} ... />
    }
    ```

    ```jsx
    // UserPage.mdx
    import AdvancedTable from '../../core/components/DataTb/examples/AdvancedTable';

    <AdvancedTable client:load />
    ```
  </Fragment>


    <AdvancedTable client:load />
</Example>





---

## Features

- **Multiple Data Sources**: CSV, JSON, Directus, generic APIs
- **Auto-detection**: Automatically detects columns from data
- **Custom Columns**: Override column headers, formatting, and rendering
- **Sorting**: Click column headers to sort (when enabled)
- **Filtering**: Global search across all columns (when enabled)
- **Pagination**: Built-in pagination with customizable page sizes
- **Formatting**: Built-in formatters for dates, numbers, currency, percentages
- **Custom Rendering**: Render custom React components in cells
- **TypeScript**: Full TypeScript support with type safety
- **Tailwind Styled**: Beautiful default styling with Tailwind CSS

---

## API Reference

### DataTb Props

- `columns?: ColumnConfig[]` - Column definitions (auto-detected if not provided)
- `searchable?: boolean` - Enable global search
- `pagination?: boolean | PaginationConfig` - Enable/configure pagination
- `sortable?: boolean` - Enable column sorting
- `initialSort?: { columnKey: string, direction: 'asc' | 'desc' }` - Initial sort state
- `className?: string` - Custom CSS classes
- `loadingMessage?: string` - Loading state message
- `emptyMessage?: string` - Empty state message
- `errorMessage?: string` - Error state message

### Column Config

```typescript
{
  key: string;           // Data property key
  header: string;        // Display header
  sortable?: boolean;    // Enable sorting
  format?: 'date' | 'number' | 'currency' | 'percent';
  render?: (value, row) => ReactNode;  // Custom renderer
  width?: string;        // Column width
}
```

### Source Components

- **CsvSource**: `url`, `delimiter`, `skipRows`
- **JsonSource**: `data` or `url`
- **DirectusSource**: `collection`, `config`, `filter`, `fields`, `sort`, `limit`
- **ApiSource**: `url`, `method`, `headers`, `body`, `transformer`



