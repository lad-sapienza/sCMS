---
title: "MapSearch Zotero"
date: "2025-02-24"
slug: "map-search-zotero"
description: "A"
menu_position: 8
---

import MapSearch from "../../modules/mapSearch"

import {
  ZoteroService
} from "../../usr/services/zotero/zotero.js"

<MapSearch
  mapProps={{
    center: "20.12361921335895, 39.681466609028035,9",
    baseLayers: ["EsriSatellite"],
  }}

searchProps={{
    // **Ricerca**: usa il parse SEMPLICE (titolo, authors, tags, etc.)
    source: { customApi: ZoteroService },
    limitTo: 'advanced',
    resultItemTemplate: item => (
      <div className="card my-3" key={item.id}>
        <div className="card-body">
          <h5 className="card-title">
            {item.title} {item.date ? `(${item.date})` : ""}
          </h5>
          <div className="card-text">
            <dl>
            { item.authors && <><dt>Authors:</dt><dd>{item.authors }</dd></> }
            
            {item.tags && Array.isArray(item.tags) && item.tags?.length > 0 ? (<> <dt>Tags:</dt><dd>{item.tags.join(", ")}</dd></>) : ''}
            
            { item.abstractNote && <><dt>Abstract:</dt><dd> {item.abstractNote} </dd></>}
            
            <hr />
            <a href={item.url} target="_blank" rel="noopener noreferrer">
                View on Zotero
              </a>
            </dl>
          </div>
        </div>
      </div>
    ),
    fieldList: {
      tags: "Tags",
    },
  }}

vectorLayerProps={{
    source: { customApi: ZoteroService,  geoField: "geometry" },
    refId: "zotero",
    name: "Bibliography",
    style: {
      id: "zotero",
     type: "circle",
      paint: {
        "circle-radius": 4,
        "circle-color": "#ff0000",
        "circle-stroke-width": 1.5,
        "circle-stroke-color": "#000000"
      },
    },
    // Imposta su quali campi filtrare (spesso simili a searchProps)
    searchInFields: {
      tags: "Tags",
    },
    // Esempio di popup che mostra la proprietà "name" proveniente dal parse “geo”
    popupTemplate: "<strong>${toponym}</strong>",
  }}
/>
