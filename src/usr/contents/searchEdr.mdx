---
title: "Search EDR API"
date: "2025-01-26"
slug: "search_edr"
description: ""
menu_position: 6
---

import { Search, Documenter } from "../../modules/scms.js"
import { Link } from "gatsby"
import EdrService from "../../usr/services/edr/edr.js"


# This example shows how to use the `<Search />` component connecting to a custom API

To this end a custom API service is created in the `edr.js` file. The service is used to fetch data from the API and return it in the format required by the `<Search />` component.

<Documenter rawCode={`<Search
    source={{ customApi: EdrService}}
    fieldList={{
      "record_number": "Record number",
      "discovery_location": "Discovery location"
    }}
    resultItemTemplate = { item =>  <div className="card my-3" key={item.identification.record_number}>
    <div className="card-body">
      <h5 className="card-title">
        {item.identification.record_number} — {item.localization.discovery_location}
      </h5>
      <a href={item.identification.url} target="_blank">{item.identification.url}</a>
    </div>
  </div>
    }
/>`}>
  <Search
      source={{ customApi: EdrService}}
      operators={{"_eq": "Equals"}}
      fieldList={{
        "record_number": "Record number",
        "discovery_location": "Discovery location",
        "text": "Ricerca nel testo",  // @TODO da controllare l'operatore non deve essere Equal ma contiene insensitive
        "inscription_type": { label: "Inscription type", values: ["sacer", "cetera", "fasti, leges, acta", "honorarius", "ignoratur", "inscr. parietariae", "oper. publ. priv.que","sepulcralis","term. non sep.", "tit. in artis operib. inscr."] },
        "material	": { label: "Rei materia", values: ["aes", "arenatum", "argentum", "aurum","cera","ceterum","creta","eburneus","ferrum","ignoratur","lapis","lignum","marmor","musivum","plumbum","tectorium","vitrum"] },
        "language		": { label: "Lingua", values: ["latina", "graeca", "latina-graeca", "incerta","ignoratur","alia"] },
        "religion		": { label: "Religione", values: ["Christiana", "Hebraica", "Pagana", "Incerta"] },
        "type_of_persons_mentionated	": { label: "Virorum distributio", values: ["imp.", "reges, viri notab. exter. gent.", "ord. sen.", "ord. eq.","ord. mun.","mil.","eccl.","offic. magg., Augg., mun.","offic. pag., vic., colleg.","offic. priv.","cet.","ignoratur","imp.?", "reges, viri notab. exter. gent.?", "ord. sen.?", "ord. eq.?","ord. mun.?","mil.?","eccl.?","offic. magg., Augg., mun.?","offic. pag., vic., colleg.?","offic. priv.?","cet.?" ] },
"year_from": "Data inizio", // @TODO da controllare l'operatore nella query EDR era => e <= 
"year_to": "Data fine"
      }}
      resultItemTemplate = { item =>  <div className="card my-3" key={item.identification.record_number}>
      <div className="card-body">
        <h5 className="card-title">
          {item.identification.record_number} — {item.localization.discovery_location}
        </h5>
        <a href={item.identification.url} target="_blank">{item.identification.url}</a>
        <p>{item.text.text}</p>
      </div>
    </div>
      }
  />
</Documenter>